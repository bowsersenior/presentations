<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Cucumber and friends: tools for security that matters </title>

  <meta name="viewport" content="width=device-width"/>

  <link rel="stylesheet" href="./css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="./css/showoff.css" type="text/css"/>

  <script type="text/javascript" src="./js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="./js/jquery-print.js"></script>
  <script type="text/javascript" src="./js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="./js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="./js/fg.menu.js"></script>
  <script type="text/javascript" src="./js/showoff.js"></script>
  <script type="text/javascript" src="./js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="./js/sh_main.min.js"></script>
  <script type="text/javascript" src="./js/core.js"></script>
  <script type="text/javascript" src="./js/showoffcore.js"></script>
  <script type="text/javascript" src="./js/coffee-script.js"></script>

  <link type="text/css" href="./css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/sh_style.css" rel="stylesheet" >

  
    <link rel="stylesheet" href="./file/custom.css" type="text/css"/>
  

  

  <script type="text/javascript">
  $(function(){
      setupPreso(false, './');
  });
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content center" ref="one/00_title/1">
<h1>Cucumber and friends</h1>

<h2>tools for security that matters</h2>

<h1><a href="http://bit.ly/securitythatmatters">bit.ly/securitythatmatters</a></h1>
</div>
</div><div class="slide" data-transition="fade"><div class="content bullets incremental evensmaller" ref="one/00_title/2">
<h1>Mani Tadayon</h1>

<ul>
<li><img src="./file/one/atti_logo.png" alt="atti"/>
<li><a href="http://twitter.com/bwsr_sr">@bwsr_sr</a> </li>
<li>github: <a href="http://github.com/bowsersenior">bowsersenior</a></li>
</li>
</ul>
</div>
</div><div class="slide" data-transition="fade"><div class="content bullets incremental evensmaller" ref="one/00_title/3">
<h1>Tin Zaw</h1>

<ul>
<li><img src="./file/one/atti_logo.png" alt="atti"/>
</li>
</ul>
</div>
</div><div class="slide" data-transition="fade"><div class="content bullets incremental smaller" ref="one/01_overview">
<h1>Overview</h1>

<ul>
<li><p>Part 1: Cucumber &amp; Friends</p>

<ul>
<li>Behavior Driven Development with <strong>Cucumber</strong></li>
<li>Infrastructure As Code with <strong>Chef</strong></li>
<li>Test Driven Infrastructure with <strong>Cucumber-Chef</strong></li>
</ul></li>
<li><p>Part 2: Security that matters</p>

<ul>
<li>Role management</li>
<li>Secure pages</li>
<li>Information Leakage</li>
<li>SSL setup</li>
<li>Complex interactions</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="fade"><div class="content center smaller" ref="one/02_cuke_and_friends/1">
<h1>Part 1: Cucumber &amp; Friends</h1>

<h2>Test-Driven Development &amp; Beyond</h2>
</div>
</div><div class="slide" data-transition="fade"><div class="content smaller" ref="one/02_cuke_and_friends/2">
<h1>Cucumber</h1>

<h2>Behaviour-Driven Development</h2>

<h2>Outside-In Development</h2>

<h2>Specification By Example</h2>
</div>
</div><div class="slide" data-transition="fade"><div class="content smaller" ref="one/02_cuke_and_friends/3">
<h1>The right software <em>matters</em></h1>

<h2>Software built right doesn't always have any value!</h2>
</div>
</div><div class="slide" data-transition="fade"><div class="content code smaller" ref="one/02_cuke_and_friends/4">
<pre class="sh_cucumber"><code># Specification By Example By Example

# features/profile.feature
Feature: Manage my profile

Scenario: Login
  Given the user "Huey" exists
  When he logs in
  Then he should see "Welcome, Huey!"</code></pre>
</div>
</div><div class="slide" data-transition="fade"><div class="content code smaller" ref="one/02_cuke_and_friends/5">
<pre class="sh_sh"><code>$ cucumber features/profile.feature</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="one/02_cuke_and_friends/6">
<p><img src="./file/one/cuke_output.png" alt="cuke">
</img>
</p>
</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="one/02_cuke_and_friends/7">
<p><img src="./file/one/cuke_output_highlighted.png" alt="cuke">
</img>
</p>
</div>
</div><div class="slide" data-transition="fade"><div class="content code smaller" ref="one/02_cuke_and_friends/8">
<pre class="sh_ruby"><code># Create a step definition for each undefined step

# features/step_definitions/profile_steps.rb
Given /^the user "([^"]*)" exists$/ do |name|
  @user = User.create!(:name =&gt; name)
end

When /^he logs in$/ do
  visit('/login')
  fill_in('User name', :with =&gt; @user.name)
  fill_in('Password', :with =&gt; @user.password)
  click_button('Log in')
end

...</code></pre>
</div>
</div><div class="slide" data-transition="fade"><div class="content smaller" ref="one/02_cuke_and_friends/9">
<h1>Chef</h1>

<h2>Infrastructure As Code</h2>

<h2>DevOps</h2>

<h2>The Cloud!</h2>
</div>
</div><div class="slide" data-transition="fade"><div class="content bullets incremental smaller" ref="one/02_cuke_and_friends/10">
<h1>Automation + verifiability + reusability</h1>

<h2>= 10 sysadmins replaced by 1 devops engineer</h2>
</div>
</div><div class="slide" data-transition="fade"><div class="content code evensmaller" ref="one/02_cuke_and_friends/11">
<pre class="sh_ruby"><code># first define a Chef recipe for sudo
package "sudo" do
  action :upgrade
end

template "/etc/sudoers" do
  source "sudoers.erb"
  mode 0440
  owner "root"
  group "root"
  variables(
    :sudoers_groups =&gt; node['authorization']['sudo']['groups'],
    :sudoers_users =&gt; node['authorization']['sudo']['users'],
    :passwordless =&gt; node['authorization']['sudo']['passwordless']
  )
end

# then use the recipe whenever you need to manage sudo
"authorization" =&gt; {
  "sudo" =&gt; {
    "groups" =&gt; ["admin", "wheel", "sysadmin"],
    "users" =&gt; ["jerry", "greg"],
    "passwordless" =&gt; true
  }
}</code></pre>
</div>
</div><div class="slide" data-transition="fade"><div class="content code evensmaller" ref="one/02_cuke_and_friends/12">
<pre class="sh_ruby"><code># how about configuring a firewall?

# recipe omitted for the sake of brevity...

# restrict port 13579 to 10.0.111.0/24 on eth0
firewall_rule "myapplication" do  # firewall_rule is defined in the recipe
  port 13579
  source '10.0.111.0/24'
  direction 'in'
  interface 'eth0'
  action :allow
end</code></pre>
</div>
</div><div class="slide" data-transition="fade"><div class="content smaller" ref="one/02_cuke_and_friends/13">
<h1>Cucumber-Chef</h1>

<h2>Test-Driven Infrastructure</h2>
</div>
</div><div class="slide" data-transition="fade"><div class="content code smaller" ref="one/02_cuke_and_friends/14">
<pre class="sh_cucumber"><code># Specify the infrastructure with cucumber

# features/server.feature
Scenario: Users can connect to server via ssh key 
  Given a newly bootstrapped server
  When the technical users recipe is applied
  Then a user should be able to ssh to the server

# create_server, run_chef, set_run_list are defined in Cucumber-Chef      
# features/step_definitions/server_steps.rb
Given /^a newly bootstrapped server$/ do
  create_server("teamserver", "192.168.20.20")  
end

When /^the technical users recipe is applied$/ do   
  set_run_list('teamserver', 'recipe[users::techies]')  
  run_chef('teamserver') 
end

...</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/02_cuke_and_friends/15">
<h1>That was a lot of material</h1>

<h2>Let's pause for questions before we proceed</h2>
</div>
</div><div class="slide" data-transition="fade"><div class="content center smaller" ref="one/03_applications/1">
<h1>Part 2: Security that matters</h1>

<h2>Applications &amp; Examples</h2>
</div>
</div><div class="slide" data-transition="fade"><div class="content code smaller" ref="one/03_applications/2">
<pre class="sh_cucumber"><code># Role management

Scenario: Require login to edit profile
  Given I am not logged in
  When I visit the "Edit Profile" page for "Huey"
  Then I should see "You must login to access that page!"

Scenario: User cannot edit another user's profile
  Given I am logged in as "Riley" with role: "Customer"
  When I visit the "Edit Profile" page for "Huey"
  Then I should see "You are not authorized!"

Scenario: Customer cannot access admin functions
  Given I am logged in as "Riley" with role: "Customer"
  When I visit the "Admin" page
  Then I should see "You are not authorized!"</code></pre>
</div>
</div><div class="slide" data-transition="fade"><div class="content code smaller" ref="one/03_applications/3">
<pre class="sh_cucumber"><code># Secure pages

Scenario: Require SSL for admin page
  Given I am logged in as "Grandpa" with role: "Admin"
  When I visit the "Admin" page
  Then the page should be secured with HTTPS

Scenario: Redirect HTTP requests to HTTPS
  Given I am logged in as "Grandpa" with role: "Admin"
  When I visit the "Admin" page using an HTTP link
  Then I should be redirected to HTTPS      </code></pre>
</div>
</div><div class="slide" data-transition="fade"><div class="content code evensmaller" ref="one/03_applications/4">
<pre class="sh_cucumber"><code># Information leakage

Scenario: Do not log credit card numbers
  Given I make a purchase using my credit card
  Then the log files should not contain my credit card number

Scenario: Do not show user's contact info to strangers
  Given I am not logged in
  When I view the profile for "Uncle Ruckus"
  Then I should not see his email
  And I should not see his phone number</code></pre>
</div>
</div><div class="slide" data-transition="fade"><div class="content code smaller" ref="one/03_applications/5">
<pre class="sh_cucumber"><code># SSL setup

Scenario: HTTPS web server
  Given a newly bootstrapped server
  When I install nginx 
  And I enable SSL on port 443
  Then the server should respond to HTTPS requests</code></pre>
</div>
</div><div class="slide" data-transition="fade"><div class="content code evensmaller" ref="one/03_applications/6">
<pre class="sh_cucumber"><code># Complex interactions

Scenario: Request a new password
  Given a user "Huey" with email "huey@example.com"
  When he requests a new password
  Then he should receive an email with a password reset link

Scenario: Reset password
  Given "Huey" has received an email with a password reset link      
  When he clicks the password reset link
  Then his password should be reset</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/04_more_info/1">
<h1>Haven't had enough?</h1>
</div>
</div><div class="slide" data-transition="fade"><div class="content smaller" ref="one/04_more_info/2">
<h1>More Info</h1>

<ul>
<li>cukes.info</li>
<li>opscode.com/chef</li>
<li>cucumber-chef.org</li>
<li>The RSpec Book</li>
<li>The Cucumber Book</li>
<li>The Secret Ninja Cucumber Scrolls</li>
<li>Specification By Example</li>
<li>Test-Driven Infrastructure with Chef</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="one/05_thanks">
<h1>Thanks for listening!</h1>

<ul>
<li>Mani Tadayon</li>
<li>Tin Zaw</li>
<li><img src="./file/one/atti_logo.png" alt="atti"/>
</li>
</ul>
</div>
</div></div>

</body>
</html>
